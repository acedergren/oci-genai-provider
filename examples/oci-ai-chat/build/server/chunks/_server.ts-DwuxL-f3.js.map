{"version":3,"file":"_server.ts-DwuxL-f3.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/sessions/_server.ts.js"],"sourcesContent":["import { json } from \"@sveltejs/kit\";\nimport { g as getRepository } from \"../../../../chunks/db.js\";\nimport { s as startNewSession } from \"../../../../chunks/session.js\";\nconst GET = async ({ url }) => {\n  const repository = getRepository();\n  const limit = parseInt(url.searchParams.get(\"limit\") ?? \"20\");\n  const status = url.searchParams.get(\"status\");\n  const sessions = repository.listSessions({ limit, status });\n  return json({ sessions });\n};\nconst POST = async ({ request, cookies }) => {\n  const body = await request.json().catch(() => ({}));\n  const model = body.model ?? \"meta.llama-3.3-70b-instruct\";\n  const region = body.region ?? \"eu-frankfurt-1\";\n  const { sessionId } = startNewSession(cookies, { model, region });\n  const repository = getRepository();\n  const session = repository.getSession(sessionId);\n  return json({ session }, { status: 201 });\n};\nexport {\n  GET,\n  POST\n};\n"],"names":[],"mappings":";;;;;;;;;;AAGK,MAAC,GAAG,GAAG,OAAO,EAAE,GAAG,EAAE,KAAK;AAC/B,EAAE,MAAM,UAAU,GAAG,aAAa,EAAE;AACpC,EAAE,MAAM,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC;AAC/D,EAAE,MAAM,MAAM,GAAG,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,QAAQ,CAAC;AAC/C,EAAE,MAAM,QAAQ,GAAG,UAAU,CAAC,YAAY,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC;AAC7D,EAAE,OAAO,IAAI,CAAC,EAAE,QAAQ,EAAE,CAAC;AAC3B;AACK,MAAC,IAAI,GAAG,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK;AAC7C,EAAE,MAAM,IAAI,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;AACrD,EAAE,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,IAAI,6BAA6B;AAC3D,EAAE,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,IAAI,gBAAgB;AAChD,EAAE,MAAM,EAAE,SAAS,EAAE,GAAG,eAAe,CAAC,OAAO,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC;AACnE,EAAE,MAAM,UAAU,GAAG,aAAa,EAAE;AACpC,EAAE,MAAM,OAAO,GAAG,UAAU,CAAC,UAAU,CAAC,SAAS,CAAC;AAClD,EAAE,OAAO,IAAI,CAAC,EAAE,OAAO,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AAC3C;;;;"}