{"version":3,"file":"_server.ts-zgKba5CN.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/models/_server.ts.js"],"sourcesContent":["import { json } from \"@sveltejs/kit\";\nimport { b as private_env } from \"../../../../chunks/shared-server.js\";\nimport { execFileSync } from \"child_process\";\nconst MODEL_METADATA = {\n  // Google Gemini\n  \"google.gemini-2.5-pro\": { name: \"Gemini 2.5 Pro\", description: \"Most capable Gemini model\" },\n  \"google.gemini-2.5-flash\": { name: \"Gemini 2.5 Flash\", description: \"Fast and efficient Gemini\" },\n  \"google.gemini-2.5-flash-lite\": { name: \"Gemini 2.5 Flash-Lite\", description: \"Lightweight for cost efficiency\" },\n  // Meta Llama 4\n  \"meta.llama-4-maverick\": { name: \"Llama 4 Maverick\", description: \"Flagship Llama 4 MoE model\" },\n  \"meta.llama-4-scout\": { name: \"Llama 4 Scout\", description: \"Efficient Llama 4 MoE\" },\n  // Meta Llama 3.x\n  \"meta.llama-3.3-70b-instruct\": { name: \"Llama 3.3 70B\", description: \"Fast, capable general-purpose\" },\n  \"meta.llama-3.2-90b-vision-instruct\": { name: \"Llama 3.2 90B Vision\", description: \"Multimodal with vision\" },\n  \"meta.llama-3.2-11b-vision-instruct\": { name: \"Llama 3.2 11B Vision\", description: \"Lightweight multimodal\" },\n  \"meta.llama-3.1-405b-instruct\": { name: \"Llama 3.1 405B\", description: \"Most capable Llama 3\" },\n  \"meta.llama-3.1-70b-instruct\": { name: \"Llama 3.1 70B\", description: \"Balanced performance\" },\n  // Cohere\n  \"cohere.command-a-03-2025\": { name: \"Command A\", description: \"Latest Cohere with tool use\" },\n  \"cohere.command-a-reasoning\": { name: \"Command A Reasoning\", description: \"Complex reasoning tasks\" },\n  \"cohere.command-a-vision\": { name: \"Command A Vision\", description: \"Multimodal Command\" },\n  \"cohere.command-r-plus-08-2024\": { name: \"Command R+ (08-2024)\", description: \"Advanced RAG\" },\n  \"cohere.command-r-plus\": { name: \"Command R+\", description: \"Enterprise RAG\" },\n  \"cohere.command-r-08-2024\": { name: \"Command R (08-2024)\", description: \"Fast and efficient\" },\n  \"cohere.command-r\": { name: \"Command R\", description: \"Scalable enterprise\" },\n  // xAI Grok\n  \"xai.grok-4\": { name: \"Grok 4\", description: \"Flagship Grok model\" },\n  \"xai.grok-4-fast\": { name: \"Grok 4 Fast\", description: \"Optimized for speed\" },\n  \"xai.grok-4.1-fast\": { name: \"Grok 4.1 Fast\", description: \"Updated fast Grok\" },\n  \"xai.grok-3\": { name: \"Grok 3\", description: \"Capable reasoning\" },\n  \"xai.grok-3-mini\": { name: \"Grok 3 Mini\", description: \"Efficient smaller Grok\" },\n  \"xai.grok-3-fast\": { name: \"Grok 3 Fast\", description: \"Fast Grok 3\" },\n  \"xai.grok-3-mini-fast\": { name: \"Grok 3 Mini Fast\", description: \"Fastest small Grok\" },\n  \"xai.grok-code-fast-1\": { name: \"Grok Code Fast\", description: \"Optimized for code\" }\n};\nconst GET = async () => {\n  const region = private_env.OCI_REGION || process.env.OCI_REGION || \"us-chicago-1\";\n  const compartmentId = private_env.OCI_COMPARTMENT_ID || process.env.OCI_COMPARTMENT_ID;\n  try {\n    const models = fetchOCIModels(compartmentId, region);\n    return json({ models, region });\n  } catch (error) {\n    console.error(\"Failed to fetch OCI models:\", error);\n    return json({ models: getFallbackModels(), region, fallback: true });\n  }\n};\nfunction fetchOCIModels(compartmentId, region) {\n  try {\n    const args = [\"generative-ai\", \"model\", \"list\", \"--region\", region, \"--all\"];\n    if (compartmentId) {\n      args.push(\"--compartment-id\", compartmentId);\n    }\n    const output = execFileSync(\"oci\", args, { encoding: \"utf-8\", timeout: 3e4 });\n    const result = JSON.parse(output);\n    if (!result.data?.items) {\n      return getFallbackModels();\n    }\n    return result.data.items.filter(\n      (model) => model.capabilities?.includes(\"CHAT\") || model.capabilities?.includes(\"TEXT_GENERATION\")\n    ).map((model) => {\n      const metadata = MODEL_METADATA[model.id] || {\n        name: model[\"display-name\"] || model.id,\n        description: \"OCI GenAI model\"\n      };\n      return {\n        id: model.id,\n        name: metadata.name,\n        description: metadata.description,\n        capabilities: model.capabilities || []\n      };\n    });\n  } catch {\n    return getFallbackModels();\n  }\n}\nfunction getFallbackModels() {\n  return [\n    { id: \"meta.llama-3.3-70b-instruct\", name: \"Llama 3.3 70B\", description: \"Fast, capable general-purpose\", capabilities: [\"CHAT\"] },\n    { id: \"meta.llama-3.1-405b-instruct\", name: \"Llama 3.1 405B\", description: \"Most capable Llama 3\", capabilities: [\"CHAT\"] },\n    { id: \"cohere.command-a-03-2025\", name: \"Command A\", description: \"Latest Cohere with tool use\", capabilities: [\"CHAT\"] },\n    { id: \"cohere.command-r-plus-08-2024\", name: \"Command R+ (08-2024)\", description: \"Advanced RAG\", capabilities: [\"CHAT\"] },\n    { id: \"cohere.command-r-08-2024\", name: \"Command R (08-2024)\", description: \"Fast and efficient\", capabilities: [\"CHAT\"] }\n  ];\n}\nexport {\n  GET\n};\n"],"names":[],"mappings":";;;;AAGA,MAAM,cAAc,GAAG;AACvB;AACA,EAAE,uBAAuB,EAAE,EAAE,IAAI,EAAE,gBAAgB,EAAE,WAAW,EAAE,2BAA2B,EAAE;AAC/F,EAAE,yBAAyB,EAAE,EAAE,IAAI,EAAE,kBAAkB,EAAE,WAAW,EAAE,2BAA2B,EAAE;AACnG,EAAE,8BAA8B,EAAE,EAAE,IAAI,EAAE,uBAAuB,EAAE,WAAW,EAAE,iCAAiC,EAAE;AACnH;AACA,EAAE,uBAAuB,EAAE,EAAE,IAAI,EAAE,kBAAkB,EAAE,WAAW,EAAE,4BAA4B,EAAE;AAClG,EAAE,oBAAoB,EAAE,EAAE,IAAI,EAAE,eAAe,EAAE,WAAW,EAAE,uBAAuB,EAAE;AACvF;AACA,EAAE,6BAA6B,EAAE,EAAE,IAAI,EAAE,eAAe,EAAE,WAAW,EAAE,+BAA+B,EAAE;AACxG,EAAE,oCAAoC,EAAE,EAAE,IAAI,EAAE,sBAAsB,EAAE,WAAW,EAAE,wBAAwB,EAAE;AAC/G,EAAE,oCAAoC,EAAE,EAAE,IAAI,EAAE,sBAAsB,EAAE,WAAW,EAAE,wBAAwB,EAAE;AAC/G,EAAE,8BAA8B,EAAE,EAAE,IAAI,EAAE,gBAAgB,EAAE,WAAW,EAAE,sBAAsB,EAAE;AACjG,EAAE,6BAA6B,EAAE,EAAE,IAAI,EAAE,eAAe,EAAE,WAAW,EAAE,sBAAsB,EAAE;AAC/F;AACA,EAAE,0BAA0B,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE,WAAW,EAAE,6BAA6B,EAAE;AAC/F,EAAE,4BAA4B,EAAE,EAAE,IAAI,EAAE,qBAAqB,EAAE,WAAW,EAAE,yBAAyB,EAAE;AACvG,EAAE,yBAAyB,EAAE,EAAE,IAAI,EAAE,kBAAkB,EAAE,WAAW,EAAE,oBAAoB,EAAE;AAC5F,EAAE,+BAA+B,EAAE,EAAE,IAAI,EAAE,sBAAsB,EAAE,WAAW,EAAE,cAAc,EAAE;AAChG,EAAE,uBAAuB,EAAE,EAAE,IAAI,EAAE,YAAY,EAAE,WAAW,EAAE,gBAAgB,EAAE;AAChF,EAAE,0BAA0B,EAAE,EAAE,IAAI,EAAE,qBAAqB,EAAE,WAAW,EAAE,oBAAoB,EAAE;AAChG,EAAE,kBAAkB,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE,WAAW,EAAE,qBAAqB,EAAE;AAC/E;AACA,EAAE,YAAY,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,qBAAqB,EAAE;AACtE,EAAE,iBAAiB,EAAE,EAAE,IAAI,EAAE,aAAa,EAAE,WAAW,EAAE,qBAAqB,EAAE;AAChF,EAAE,mBAAmB,EAAE,EAAE,IAAI,EAAE,eAAe,EAAE,WAAW,EAAE,mBAAmB,EAAE;AAClF,EAAE,YAAY,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,mBAAmB,EAAE;AACpE,EAAE,iBAAiB,EAAE,EAAE,IAAI,EAAE,aAAa,EAAE,WAAW,EAAE,wBAAwB,EAAE;AACnF,EAAE,iBAAiB,EAAE,EAAE,IAAI,EAAE,aAAa,EAAE,WAAW,EAAE,aAAa,EAAE;AACxE,EAAE,sBAAsB,EAAE,EAAE,IAAI,EAAE,kBAAkB,EAAE,WAAW,EAAE,oBAAoB,EAAE;AACzF,EAAE,sBAAsB,EAAE,EAAE,IAAI,EAAE,gBAAgB,EAAE,WAAW,EAAE,oBAAoB;AACrF,CAAC;AACI,MAAC,GAAG,GAAG,YAAY;AACxB,EAAE,MAAM,MAAM,GAAG,WAAW,CAAC,UAAU,IAAI,OAAO,CAAC,GAAG,CAAC,UAAU,IAAI,cAAc;AACnF,EAAE,MAAM,aAAa,GAAG,WAAW,CAAC,kBAAkB,IAAI,OAAO,CAAC,GAAG,CAAC,kBAAkB;AACxF,EAAE,IAAI;AACN,IAAI,MAAM,MAAM,GAAG,cAAc,CAAC,aAAa,EAAE,MAAM,CAAC;AACxD,IAAI,OAAO,IAAI,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC;AACnC,EAAE,CAAC,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,CAAC,KAAK,CAAC,6BAA6B,EAAE,KAAK,CAAC;AACvD,IAAI,OAAO,IAAI,CAAC,EAAE,MAAM,EAAE,iBAAiB,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;AACxE,EAAE;AACF;AACA,SAAS,cAAc,CAAC,aAAa,EAAE,MAAM,EAAE;AAC/C,EAAE,IAAI;AACN,IAAI,MAAM,IAAI,GAAG,CAAC,eAAe,EAAE,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,OAAO,CAAC;AAChF,IAAI,IAAI,aAAa,EAAE;AACvB,MAAM,IAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE,aAAa,CAAC;AAClD,IAAI;AACJ,IAAI,MAAM,MAAM,GAAG,YAAY,CAAC,KAAK,EAAE,IAAI,EAAE,EAAE,QAAQ,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;AACjF,IAAI,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;AACrC,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,EAAE;AAC7B,MAAM,OAAO,iBAAiB,EAAE;AAChC,IAAI;AACJ,IAAI,OAAO,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM;AACnC,MAAM,CAAC,KAAK,KAAK,KAAK,CAAC,YAAY,EAAE,QAAQ,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,YAAY,EAAE,QAAQ,CAAC,iBAAiB;AACvG,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,KAAK;AACrB,MAAM,MAAM,QAAQ,GAAG,cAAc,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI;AACnD,QAAQ,IAAI,EAAE,KAAK,CAAC,cAAc,CAAC,IAAI,KAAK,CAAC,EAAE;AAC/C,QAAQ,WAAW,EAAE;AACrB,OAAO;AACP,MAAM,OAAO;AACb,QAAQ,EAAE,EAAE,KAAK,CAAC,EAAE;AACpB,QAAQ,IAAI,EAAE,QAAQ,CAAC,IAAI;AAC3B,QAAQ,WAAW,EAAE,QAAQ,CAAC,WAAW;AACzC,QAAQ,YAAY,EAAE,KAAK,CAAC,YAAY,IAAI;AAC5C,OAAO;AACP,IAAI,CAAC,CAAC;AACN,EAAE,CAAC,CAAC,MAAM;AACV,IAAI,OAAO,iBAAiB,EAAE;AAC9B,EAAE;AACF;AACA,SAAS,iBAAiB,GAAG;AAC7B,EAAE,OAAO;AACT,IAAI,EAAE,EAAE,EAAE,6BAA6B,EAAE,IAAI,EAAE,eAAe,EAAE,WAAW,EAAE,+BAA+B,EAAE,YAAY,EAAE,CAAC,MAAM,CAAC,EAAE;AACtI,IAAI,EAAE,EAAE,EAAE,8BAA8B,EAAE,IAAI,EAAE,gBAAgB,EAAE,WAAW,EAAE,sBAAsB,EAAE,YAAY,EAAE,CAAC,MAAM,CAAC,EAAE;AAC/H,IAAI,EAAE,EAAE,EAAE,0BAA0B,EAAE,IAAI,EAAE,WAAW,EAAE,WAAW,EAAE,6BAA6B,EAAE,YAAY,EAAE,CAAC,MAAM,CAAC,EAAE;AAC7H,IAAI,EAAE,EAAE,EAAE,+BAA+B,EAAE,IAAI,EAAE,sBAAsB,EAAE,WAAW,EAAE,cAAc,EAAE,YAAY,EAAE,CAAC,MAAM,CAAC,EAAE;AAC9H,IAAI,EAAE,EAAE,EAAE,0BAA0B,EAAE,IAAI,EAAE,qBAAqB,EAAE,WAAW,EAAE,oBAAoB,EAAE,YAAY,EAAE,CAAC,MAAM,CAAC;AAC5H,GAAG;AACH;;;;"}