{"version":3,"file":"_server.ts-ll2-orYA.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/sessions/_id_/_server.ts.js"],"sourcesContent":["import { error, json } from \"@sveltejs/kit\";\nimport { g as getRepository } from \"../../../../../chunks/db.js\";\nconst GET = async ({ params }) => {\n  const repository = getRepository();\n  const session = repository.getSession(params.id);\n  if (!session) {\n    throw error(404, \"Session not found\");\n  }\n  const turns = repository.getSessionTurns(params.id);\n  return json({ session, turns });\n};\nconst DELETE = async ({ params }) => {\n  const repository = getRepository();\n  const session = repository.getSession(params.id);\n  if (!session) {\n    throw error(404, \"Session not found\");\n  }\n  repository.updateSession(params.id, { status: \"completed\" });\n  return json({ success: true });\n};\nexport {\n  DELETE,\n  GET\n};\n"],"names":[],"mappings":";;;;;;;;;AAEK,MAAC,GAAG,GAAG,OAAO,EAAE,MAAM,EAAE,KAAK;AAClC,EAAE,MAAM,UAAU,GAAG,aAAa,EAAE;AACpC,EAAE,MAAM,OAAO,GAAG,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC;AAClD,EAAE,IAAI,CAAC,OAAO,EAAE;AAChB,IAAI,MAAM,KAAK,CAAC,GAAG,EAAE,mBAAmB,CAAC;AACzC,EAAE;AACF,EAAE,MAAM,KAAK,GAAG,UAAU,CAAC,eAAe,CAAC,MAAM,CAAC,EAAE,CAAC;AACrD,EAAE,OAAO,IAAI,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;AACjC;AACK,MAAC,MAAM,GAAG,OAAO,EAAE,MAAM,EAAE,KAAK;AACrC,EAAE,MAAM,UAAU,GAAG,aAAa,EAAE;AACpC,EAAE,MAAM,OAAO,GAAG,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC;AAClD,EAAE,IAAI,CAAC,OAAO,EAAE;AAChB,IAAI,MAAM,KAAK,CAAC,GAAG,EAAE,mBAAmB,CAAC;AACzC,EAAE;AACF,EAAE,UAAU,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,EAAE,EAAE,MAAM,EAAE,WAAW,EAAE,CAAC;AAC9D,EAAE,OAAO,IAAI,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;AAChC;;;;"}